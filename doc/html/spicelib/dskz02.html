
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>dskz02</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>dskz02</b> </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">

<small><div align="center">
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div></small>
       <br>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
            <small>
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Examples">Examples<br></a>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
             </small>
            </td>
          </tr>
        </tbody>
</table>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
 DSKZ02 ( DSK, fetch type 2 model size parameters )
 
      SUBROUTINE DSKZ02 ( HANDLE, DLADSC, NV, NP )
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Return plate model size parameters---plate count and
     vertex count---for a type 2 DSK segment.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     <a href="../req/das.html">DAS</a>
     <a href="../req/dsk.html">DSK</a>
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     DAS
     DSK
     FILES
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
      IMPLICIT NONE

      INCLUDE 'dla.inc'
      INCLUDE 'dskdsc.inc'
      INCLUDE 'dsk02.inc'

      INTEGER               HANDLE
      INTEGER               DLADSC ( * )
      INTEGER               NV
      INTEGER               NP
      
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     Variable  I/O  Description
     --------  ---  --------------------------------------------------
     HANDLE     I   DSK file handle.
     DLADSC     I   DLA descriptor.
     NV         O   Number of vertices.
     NP         O   Number of plates.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     HANDLE         is the handle of a DSK file containing a type 2
                    segment from which data are to be fetched.

     DLADSC         is the DLA descriptor associated with the segment
                    from which data are to be fetched.
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     NV             is the number of vertices belonging to
                    the specified plate model.

     NP             is the number of plates belonging to the
                    specified plate model.
                    
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     See the INCLUDE files 

         dla.inc
         dsk02.inc
         dskdsc.inc
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     1) If the input handle is invalid, the error will be diagnosed by
        routines in the call tree of this routine. 

     2) If a file read error occurs, the error will be diagnosed by
        routines in the call tree of this routine.

     3) If the input DLA descriptor is invalid, the effect of this
        routine is undefined. The error *may* be diagnosed by routines
        in the call tree of this routine, but there are no guarantees.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     See input argument HANDLE.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     This routine enables SPICE-based user applications to
     conveniently fetch the plate and vertex counts of a type 2 DSK
     segment.

     See the routine <a href="dskb02.html">DSKB02</a> (DSK, fetch type 2 bookkeeping data)
     for an interface that returns all type 2 DSK segment
     bookkeeping data in a single call.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     1) Look up all the vertices associated with each plate
        of the model contained in a specified type 2 segment. For each
        plate, display the plate's vertices and normal vector.

        For this example, we'll show the context of this look-up:
        opening the DSK file for read access, traversing a trivial,
        one-segment list to obtain the segment of interest.


        Example code begins here.


           PROGRAM DSKBULK
           IMPLICIT NONE

           INCLUDE 'dla.inc'
           INCLUDE 'dsk02.inc'


           CHARACTER*(*)         FMT
           PARAMETER           ( FMT    = '(1X,A,3(1XE16.9))' )


           INTEGER               BUFSIZ
           PARAMETER           ( BUFSIZ = 10000 )

           INTEGER               FILSIZ
           PARAMETER           ( FILSIZ = 255 )


           CHARACTER*(FILSIZ)    DSK

           DOUBLE PRECISION      NORMAL ( 3 )
           DOUBLE PRECISION      VERTS  ( 3, BUFSIZ )

           INTEGER               DLADSC ( DLADSZ )
           INTEGER               HANDLE
           INTEGER               I
           INTEGER               J
           INTEGER               N
           INTEGER               NNORM
           INTEGER               NP
           INTEGER               NREAD
           INTEGER               NV
           INTEGER               NVTX
           INTEGER               PLATES  ( 3, BUFSIZ )
           INTEGER               PLIX
           INTEGER               REMAIN
           INTEGER               START

           LOGICAL               FOUND

     C
     C     Prompt for name of DSK and open file for reading.
     C
           CALL PROMPT ( 'Enter DSK name &gt; ', DSK )

           CALL DASOPR ( DSK, HANDLE )

           CALL <a href="dlabfs.html">DLABFS</a> ( HANDLE, DLADSC, FOUND )

           IF ( .NOT. FOUND ) THEN

              CALL <a href="setmsg.html">SETMSG</a> ( 'No segment found in file #.' )
              CALL <a href="errch.html">ERRCH</a>  ( '#',  DSK                     )
              CALL <a href="sigerr.html">SIGERR</a> ( 'SPICE(NOSEGMENT)'            )

           END IF

     C
     C     Get segment vertex and plate counts.
     C
           CALL <b>DSKZ02</b> ( HANDLE, DLADSC, NV, NP )

           WRITE (*,*) ' '
           WRITE (*,*) 'Number of vertices: ', NV
           WRITE (*,*) 'Number of plates:   ', NP
     C
     C     Display the vertices of each plate.
     C
           REMAIN = NP
           START  = 1

           DO WHILE ( REMAIN .GT. 0 )
     C
     C        NREAD is the number of plates we'll read on this
     C        loop pass.
     C
              NREAD  = MIN ( BUFSIZ, REMAIN )

              CALL <a href="dskp02.html">DSKP02</a> ( HANDLE, DLADSC, START, NREAD, N, PLATES )

              DO I = 1, N

                 PLIX = START + I - 1
     C
     C           Read the vertices of the current plate.
     C
                 DO J = 1, 3
                    CALL <a href="dskv02.html">DSKV02</a> ( HANDLE, DLADSC, PLATES(J,I),
          .                       1,      NVTX,   VERTS (1,J)  )
                 END DO
     C
     C           Display the vertices of the current plate:
     C
                 WRITE (*,*  ) ' '
                 WRITE (*,*  ) 'Plate number: ', PLIX
                 WRITE (*,FMT) '   Vertex 1: ', (VERTS(J,1), J = 1,3)
                 WRITE (*,FMT) '   Vertex 2: ', (VERTS(J,2), J = 1,3)
                 WRITE (*,FMT) '   Vertex 3: ', (VERTS(J,3), J = 1,3)

     C
     C           Display the normal vector of the current plate:
     C
                 CALL <a href="dskn02.html">DSKN02</a> ( HANDLE, DLADSC, PLIX, NORMAL )

                 WRITE (*,FMT) '   Normal:   ', (NORMAL(J), J = 1,3)

              END DO

              START  = START  + NREAD
              REMAIN = REMAIN - NREAD

           END DO

     C
     C     Close the kernel.  This isn't necessary in a stand-
     C     alone program, but it's good practice in subroutines
     C     because it frees program and system resources.
     C
           CALL <a href="dascls.html">DASCLS</a> ( HANDLE )

           END


     When this program was executed on a PC/Linux/gfortran/64bit
     platform, using a DSK file representing a regular icosahedron,
     the output was:


     Enter DSK name &gt; solid.bds

      Number of vertices:           12
      Number of plates:             20

      Plate number:            1
         Vertex 1:   0.000000000E+00  0.000000000E+00  0.117557000E+01
         Vertex 2:   0.105146000E+01  0.000000000E+00  0.525731000E+00
         Vertex 3:   0.324920000E+00  0.100000000E+01  0.525731000E+00
         Normal:     0.491124160E+00  0.356821347E+00  0.794654382E+00

      Plate number:            2
         Vertex 1:   0.000000000E+00  0.000000000E+00  0.117557000E+01
         Vertex 2:   0.324920000E+00  0.100000000E+01  0.525731000E+00
         Vertex 3:  -0.850651000E+00  0.618034000E+00  0.525731000E+00
         Normal:    -0.187592328E+00  0.577350079E+00  0.794654645E+00

           ... 

      Plate number:           20
         Vertex 1:   0.850651000E+00 -0.618034000E+00 -0.525731000E+00
         Vertex 2:   0.000000000E+00  0.000000000E+00 -0.117557000E+01
         Vertex 3:   0.850651000E+00  0.618034000E+00 -0.525731000E+00
         Normal:     0.607061680E+00  0.000000000E+00 -0.794654715E+00

 
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     N.J. Bachman    (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 1.0.0, 02-JUN-2010 (NJB)</PRE>
<h4>Link to routine DSKZ02 source file <a href='../../../src/spicelib/dskz02.f'>dskz02.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Wed Apr  5 17:46:28 2017</pre>

</body>
</html>

