
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
   <TITLE>dskb02</TITLE>
</HEAD>

<BODY style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<A name="TOP"></A>

<table style="text-align: left; margin-left: auto; margin-right: auto; width: 800px;"
 border="0" cellpadding="5" cellspacing="2">
  <tbody>
    <tr>
      <td style="background-color: rgb(153, 153, 153); vertical-align: middle; text-align: center;">
      <div align="right"> 
      <small><small><a href="index.html">Index Page</a></small></small>
      </div>
      <b>dskb02</b> </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">

<small><div align="center">
<A HREF="index.html#A">A</A>&nbsp;
<A HREF="index.html#B">B</A>&nbsp;
<A HREF="index.html#C">C</A>&nbsp;
<A HREF="index.html#D">D</A>&nbsp;
<A HREF="index.html#E">E</A>&nbsp;
<A HREF="index.html#F">F</A>&nbsp;
<A HREF="index.html#G">G</A>&nbsp;
<A HREF="index.html#H">H</A>&nbsp;
<A HREF="index.html#I">I</A>&nbsp;
<A HREF="index.html#J">J</A>&nbsp;
<A HREF="index.html#K">K</A>&nbsp;
<A HREF="index.html#L">L</A>&nbsp;
<A HREF="index.html#M">M</A>&nbsp;
<A HREF="index.html#N">N</A>&nbsp;
<A HREF="index.html#O">O</A>&nbsp;
<A HREF="index.html#P">P</A>&nbsp;
<A HREF="index.html#Q">Q</A>&nbsp;
<A HREF="index.html#R">R</A>&nbsp;
<A HREF="index.html#S">S</A>&nbsp;
<A HREF="index.html#T">T</A>&nbsp;
<A HREF="index.html#U">U</A>&nbsp;
<A HREF="index.html#V">V</A>&nbsp;
<A HREF="index.html#W">W</A>&nbsp;
<A HREF="index.html#X">X</A>&nbsp;
</div></small>
       <br>
       <table style="text-align: left; width: 60%; margin-left: auto; margin-right: auto;"
       border="0" cellspacing="2" cellpadding="2">
        <tbody>
          <tr>
            <td style="width: 33%; text-align: center;">
            <small>
              <a href="#Procedure">Procedure<br></a>
              <a href="#Abstract">Abstract<br></a>
              <a href="#Required_Reading">Required_Reading<br></a>
              <a href="#Keywords">Keywords<br></a>
              <a href="#Declarations">Declarations<br></a>
              <a href="#Brief_I/O">Brief_I/O<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Detailed_Input">Detailed_Input<br></a>
              <a href="#Detailed_Output">Detailed_Output<br></a>
              <a href="#Parameters">Parameters<br></a>
              <a href="#Exceptions">Exceptions<br></a>
              <a href="#Files">Files<br></a>
              <a href="#Particulars">Particulars<br></a>

              </small>
              </td>
              <td style="vertical-align: top; width: 33%; text-align: center;">
              <small>               <a href="#Examples">Examples<br></a>
              <a href="#Restrictions">Restrictions<br></a>
              <a href="#Literature_References">Literature_References<br></a>
              <a href="#Author_and_Institution">Author_and_Institution<br></a>
              <a href="#Version">Version<br></a>
             </small>
            </td>
          </tr>
        </tbody>
</table>

<h4><a name="Procedure">Procedure</a></h4>
<PRE>
 DSKB02 ( DSK, fetch type 2 bookkeeping data )
 
      SUBROUTINE DSKB02 ( HANDLE, DLADSC, NV,     NP,     NVXTOT,
     .                    VTXBDS, VOXSIZ, VOXORI, VGREXT, 
     .                    CGSCAL, VTXNPL, VOXNPT, VOXNPL          )
 
</PRE>
<h4><a name="Abstract">Abstract</a></h4>
<PRE>
     Return bookkeeping data from a DSK type 2 segment.
</PRE>
<h4><a name="Required_Reading">Required_Reading</a></h4>
<PRE>
     <a href="../req/das.html">DAS</a>
     <a href="../req/dsk.html">DSK</a>
</PRE>
<h4><a name="Keywords">Keywords</a></h4>
<PRE>
     DAS
     DSK
     FILES
</PRE>
<h4><a name="Declarations">Declarations</a></h4>
<PRE>
      IMPLICIT NONE

      INCLUDE 'dla.inc'
      INCLUDE 'dskdsc.inc'
      INCLUDE 'dsk02.inc'
      
      INTEGER               HANDLE
      INTEGER               DLADSC ( * )
      INTEGER               NV
      INTEGER               NP
      INTEGER               NVXTOT
      DOUBLE PRECISION      VTXBDS ( 2, 3 )
      DOUBLE PRECISION      VOXSIZ
      DOUBLE PRECISION      VOXORI ( 3 )
      INTEGER               VGREXT ( 3 )
      INTEGER               CGSCAL      
      INTEGER               VTXNPL
      INTEGER               VOXNPT
      INTEGER               VOXNPL
      
</PRE>
<h4><a name="Brief_I/O">Brief_I/O</a></h4>
<PRE>
     Variable  I/O  Description
     --------  ---  --------------------------------------------------
     HANDLE     I   DSK file handle.
     DLADSC     I   DLA descriptor.
     NV         O   Number of vertices in model.
     NP         O   Number of plates in model.
     NVXTOT     O   Number of voxels in fine grid.
     VTXBDS     O   Vertex bounds.
     VOXSIZ     O   Fine voxel edge length.
     VOXORI     O   Fine voxel grid origin.
     VGREXT     O   Fine voxel grid extent.
     CGSCAL     O   Coarse voxel grid scale.
     VTXNPL     O   Size of vertex-plate correspondence list.
     VOXNPT     O   Size of voxel-plate pointer list.
     VOXNPL     O   Size of voxel-plate correspondence list.
</PRE>
<h4><a name="Detailed_Input">Detailed_Input</a></h4>
<PRE>
     HANDLE         is the handle of a DSK file containing a type 2
                    segment from which data are to be fetched.

     DLADSC         is the DLA descriptor associated with the segment
                    from which data are to be fetched. 
</PRE>
<h4><a name="Detailed_Output">Detailed_Output</a></h4>
<PRE>
     NV         Number of vertices in model.

     NP         Number of plates in model.

     NVXTOT     Total number of voxels in fine grid.

     VTXBDS     Vertex bounds. This is an array of six values giving
                the minimum and maximum values of each component of
                the vertex set.  VTXBDS has dimensions ( 2, 3 ).
                Units are km.

     VOXSIZ     Fine grid voxel size.  DSK voxels are cubes; the edge
                length of each cube is given by the voxel size.  This
                size applies to the fine voxel grid.  Units are km.

     VOXORI     Voxel grid origin.  This is the location of the voxel
                grid origin in the body-fixed frame associated with
                the target body.  Units are km.

     VGREXT     Voxel grid extent.  This extent is
                an array of three integers
                indicating the number of voxels in
                the X, Y, and Z directions in the
                fine voxel grid.

     CGSCAL     Coarse voxel grid scale.  The extent
                of the fine voxel grid is related to
                the extent of the coarse voxel grid
                by this scale factor.

     VTXNPL     Vertex-plate correspondence list
                size.

     VOXNPT     Size of the voxel-to-plate pointer
                list.

     VOXNPL     Voxel-plate correspondence list size.
</PRE>
<h4><a name="Parameters">Parameters</a></h4>
<PRE>
     See the INCLUDE files 

         dla.inc
         dsk02.inc
         dskdsc.inc
</PRE>
<h4><a name="Exceptions">Exceptions</a></h4>
<PRE>
     1) If the input handle is invalid, the error will be diagnosed by
        routines in the call tree of this routine. 

     2) If a file read error occurs, the error will be diagnosed by
        routines in the call tree of this routine.

     3) If the input DLA descriptor is invalid, the effect of this
        routine is undefined. The error *may* be diagnosed by routines
        in the call tree of this routine, but there are no
        guarantees.
</PRE>
<h4><a name="Files">Files</a></h4>
<PRE>
     See input argument HANDLE.
</PRE>
<h4><a name="Particulars">Particulars</a></h4>
<PRE>
     DSK files are built using the DLA low-level format and
     the DAS architecture; DLA files are a specialized type of DAS
     file in which data are organized as a doubly linked list of
     segments.  Each segment's data belong to contiguous components of
     character, double precision, and integer type.
</PRE>
<h4><a name="Examples">Examples</a></h4>
<PRE>
     1) Dump several parameters from the first DLA segment of 
        a DSK file.  The segment is assumed to be of type 2.
  
                 PROGRAM EX1 
                 IMPLICIT NONE

                 INCLUDE 'dla.inc'
                 INCLUDE 'dskdsc.inc'
                 INCLUDE 'dsk02.inc'

           C
           C     Local parameters
           C 
                 INTEGER               FILSIZ
                 PARAMETER           ( FILSIZ = 255 )

                 INTEGER               LNSIZE
                 PARAMETER           ( LNSIZE = 80 )

           C
           C     Local variables
           C 
                 CHARACTER*(FILSIZ)    DSK
                 CHARACTER*(LNSIZE)    OUTLIN

                 DOUBLE PRECISION      VOXORI ( 3 )
                 DOUBLE PRECISION      VOXSIZ
                 DOUBLE PRECISION      VTXBDS ( 2, 3 )

                 INTEGER               CGSCAL
                 INTEGER               DLADSC ( DLADSZ )
                 INTEGER               HANDLE
                 INTEGER               NP
                 INTEGER               NV
                 INTEGER               NVXTOT
                 INTEGER               VGREXT ( 3 )
                 INTEGER               VOXNPL
                 INTEGER               VOXNPT
                 INTEGER               VTXNPL
                 
                 LOGICAL               FOUND


           C
           C     Prompt for the name of the DSK to read.
           C
                 CALL PROMPT ( 'Enter DSK name &gt; ', DSK )
           C
           C     Open the DSK file for read access.
           C     We use the DAS-level interface for
           C     this function.
           C
                 CALL DASOPR ( DSK, HANDLE )

           C
           C     Begin a forward search through the
           C     kernel, treating the file as a DLA.
           C     In this example, it's a very short
           C     search.
           C
                 CALL <a href="dlabfs.html">DLABFS</a> ( HANDLE, DLADSC, FOUND )

                 IF ( .NOT. FOUND ) THEN
           C
           C        We arrive here only if the kernel
           C        contains no segments.  This is 
           C        unexpected, but we're prepared for it.
           C
                    CALL <a href="setmsg.html">SETMSG</a> ( 'No segments found '
                .   //            'in DSK file #.'    )
                    CALL <a href="errch.html">ERRCH</a>  ( '#',  DSK           )
                    CALL <a href="sigerr.html">SIGERR</a> ( 'SPICE(NODATA)'     )

                 END IF

           C
           C     If we made it this far, DLADSC is the
           C     DLA descriptor of the first segment.
           C
           C     Read and display type 2 bookkeeping data.
           C
                 CALL <b>DSKB02</b> ( HANDLE, DLADSC, NV,     NP,     NVXTOT,
                .              VTXBDS, VOXSIZ, VOXORI, VGREXT, CGSCAL,
                .              VTXNPL, VOXNPT, VOXNPL                 )

           C
           C     Show vertex and plate counts.
           C
                 OUTLIN = 'Number of vertices:                 #'
                 CALL <a href="repmi.html">REPMI</a>  ( OUTLIN, '#', NV, OUTLIN )
                 CALL <a href="tostdo.html">TOSTDO</a> ( OUTLIN )

                 OUTLIN = 'Number of plates:                   #'
                 CALL <a href="repmi.html">REPMI</a>  ( OUTLIN, '#', NP, OUTLIN )
                 CALL <a href="tostdo.html">TOSTDO</a> ( OUTLIN )

                 OUTLIN = 'Voxel edge length (km):             #'
                 CALL <a href="repmf.html">REPMF</a>  ( OUTLIN, '#', VOXSIZ, 6, 'E', OUTLIN )
                 CALL <a href="tostdo.html">TOSTDO</a> ( OUTLIN )

                 OUTLIN = 'Number of voxels:                   #'
                 CALL <a href="repmi.html">REPMI</a>  ( OUTLIN, '#', NVXTOT, OUTLIN )
                 CALL <a href="tostdo.html">TOSTDO</a> ( OUTLIN )

                 END 
</PRE>
<h4><a name="Restrictions">Restrictions</a></h4>
<PRE>
     1) The caller must verify that the segment associated with
        the input DLA descriptor is a DSK type 2 segment.
</PRE>
<h4><a name="Literature_References">Literature_References</a></h4>
<PRE>
     None.
</PRE>
<h4><a name="Author_and_Institution">Author_and_Institution</a></h4>
<PRE>
     N.J. Bachman    (JPL)
</PRE>
<h4><a name="Version">Version</a></h4>
<PRE>
    SPICELIB Version 1.0.0, 08-FEB-2017 (NJB)

        Updated version info.

        23-JAN-2016 (NJB)
  
           Removed references to unneeded variables.
           Updated header comments.

        DSKLIB Version 2.0.0, 05-MAY-2010 (NJB)

           Renamed routine from <a href="dskp02.html">DSKP02</a> to <b>DSKB02</b>.
     
        DSKLIB Version 1.0.1, 08-OCT-2009 (NJB)

           Updated header.

        Beta Version 1.0.0, 30-OCT-2006 (NJB)</PRE>
<h4>Link to routine DSKB02 source file <a href='../../../src/spicelib/dskb02.f'>dskb02.f</a> </h4>

      </td>
    </tr>
  </tbody>
</table>

   <pre>Wed Apr  5 17:46:26 2017</pre>

</body>
</html>

